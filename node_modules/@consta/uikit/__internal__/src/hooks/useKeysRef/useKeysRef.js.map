{"version":3,"file":"useKeysRef.js","names":["useEffect","useMutableRef","useKeysRef","params","ref","keys","isActive","eventType","eventHandler","fn","e","code","key","current","addEventListener","removeEventListener"],"sources":["../../../../../src/hooks/useKeysRef/useKeysRef.ts"],"sourcesContent":["import React, { useEffect } from 'react';\n\nimport { useMutableRef } from '##/hooks/useMutableRef';\nimport { KeyCode } from '##/utils/types/KeyCode';\n\nexport type KeyHandlers = Partial<\n  Record<KeyCode, (e: KeyboardEvent) => void>\n> & {\n  [key: string]: (e: KeyboardEvent) => void;\n};\n\ntype UseKeysProps = {\n  ref?: React.RefObject<HTMLElement>;\n  keys: KeyHandlers;\n  isActive?: boolean;\n  eventHandler?: (event: KeyboardEvent) => void;\n  eventType?: 'keypress' | 'keydown' | 'keyup';\n};\n\nexport const useKeysRef = (params: UseKeysProps) => {\n  const {\n    ref,\n    keys,\n    isActive = false,\n    eventType = 'keydown',\n    eventHandler,\n  } = params;\n\n  const fn = useMutableRef((e: KeyboardEvent) => {\n    if (isActive) {\n      (keys[e.code as KeyCode] || keys[e.key as KeyCode])?.(e);\n    }\n    eventHandler?.(e);\n  });\n\n  useEffect(() => {\n    ref?.current?.addEventListener(eventType, fn.current);\n\n    return () => {\n      ref?.current?.removeEventListener(eventType, fn.current);\n    };\n  }, [ref?.current, eventType]);\n};\n"],"mappings":"AAAA,OAAgBA,SAAhB,KAAiC,OAAjC,CAEA,OAASC,aAAT,wBAiBA,MAAO,IAAMC,WAAU,CAAG,SAACC,CAAD,CAA0B,IAEhDC,EAFgD,CAO9CD,CAP8C,CAEhDC,GAFgD,CAGhDC,CAHgD,CAO9CF,CAP8C,CAGhDE,IAHgD,GAO9CF,CAP8C,CAIhDG,QAJgD,GAO9CH,CAP8C,CAKhDI,SALgD,CAKhDA,CALgD,YAKpC,SALoC,GAMhDC,CANgD,CAO9CL,CAP8C,CAMhDK,YANgD,CAS5CC,CAAE,CAAGR,aAAa,CAAC,SAACS,CAAD,CAAsB,CAC7C,iBAAc,iBACXL,CAAI,CAACK,CAAC,CAACC,IAAH,CAAJ,EAA2BN,CAAI,CAACK,CAAC,CAACE,GAAH,CADpB,qBACZ,EAAsDF,CAAtD,CACD,CAH4C,OAI7CF,CAJ6C,WAI7CA,CAJ6C,QAI7CA,CAAY,CAAGE,CAAH,CACb,CALuB,CAT0B,CAgBlDV,SAAS,CAAC,UAAM,OAGd,cAFAI,CAEA,WAFAA,CAEA,YAFAA,CAAG,CAAES,OAEL,qBAFA,EAAcC,gBAAd,CAA+BP,CAA/B,CAA0CE,CAAE,CAACI,OAA7C,CAEA,CAAO,UAAM,cACXT,CADW,WACXA,CADW,YACXA,CAAG,CAAES,OADM,qBACX,EAAcE,mBAAd,CAAkCR,CAAlC,CAA6CE,CAAE,CAACI,OAAhD,CACD,CACF,CANQ,CAMN,QAACT,CAAD,WAACA,CAAD,QAACA,CAAG,CAAES,OAAN,CAAeN,CAAf,CANM,CAOV,CAvBM"}