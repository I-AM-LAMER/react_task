{"version":3,"file":"useKeys.js","names":["useCallback","useMutableRef","useKeys","props","propsRef","e","current","isActive","keys","onEvent","code","key"],"sources":["../../../../../src/hooks/useKeys/useKeys.ts"],"sourcesContent":["import { useCallback } from 'react';\n\nimport { useMutableRef } from '##/hooks/useMutableRef';\nimport { KeyCode } from '##/utils/types/KeyCode';\n\nexport type UseKeysPropKeys<ELEMENT = Element> = Partial<\n  Record<KeyCode, React.KeyboardEventHandler<ELEMENT>>\n> & {\n  [key: string]: React.KeyboardEventHandler;\n};\n\nexport type UseKeysProps<ELEMENT = Element> = {\n  keys: UseKeysPropKeys<ELEMENT>;\n  onEvent?: React.KeyboardEventHandler<ELEMENT>;\n  isActive: boolean;\n};\n\nexport const useKeys = <ELEMENT = Element>(\n  props: UseKeysProps<ELEMENT>,\n): React.KeyboardEventHandler<ELEMENT> => {\n  const propsRef = useMutableRef(props);\n  return useCallback((e) => {\n    const { isActive, keys, onEvent } = propsRef.current;\n    if (isActive) {\n      (keys[e.code as KeyCode] || keys[e.key as KeyCode])?.(e);\n    }\n    onEvent?.(e);\n  }, []);\n};\n"],"mappings":"AAAA,OAASA,WAAT,KAA4B,OAA5B,CAEA,OAASC,aAAT,wBAeA,MAAO,IAAMC,QAAO,CAAG,SACrBC,CADqB,CAEmB,CACxC,GAAMC,EAAQ,CAAGH,aAAa,CAACE,CAAD,CAA9B,CACA,MAAOH,YAAW,CAAC,SAACK,CAAD,CAAO,CACxB,MAAoCD,CAAQ,CAACE,OAA7C,CAAQC,CAAR,GAAQA,QAAR,CAAkBC,CAAlB,GAAkBA,IAAlB,CAAwBC,CAAxB,GAAwBA,OAAxB,CACA,GAAIF,CAAJ,CAAc,iBACXC,CAAI,CAACH,CAAC,CAACK,IAAH,CAAJ,EAA2BF,CAAI,CAACH,CAAC,CAACM,GAAH,CADpB,qBACZ,EAAsDN,CAAtD,CACD,CAJuB,OAKxBI,CALwB,WAKxBA,CALwB,QAKxBA,CAAO,CAAGJ,CAAH,CACR,CANiB,CAMf,EANe,CAOnB,CAXM"}