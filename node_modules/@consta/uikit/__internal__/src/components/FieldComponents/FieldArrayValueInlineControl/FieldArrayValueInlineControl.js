import _defineProperty from"@babel/runtime/helpers/defineProperty";import _slicedToArray from"@babel/runtime/helpers/slicedToArray";import _objectWithoutProperties from"@babel/runtime/helpers/objectWithoutProperties";var _excluded=["className","inputRef","inputMaxLength","value","inputDefaultValue","renderValue","onFocus","onBlur","autoFocus","inputTabIndex","inputAriaLabel","disabled","style","size","placeholder","onKeyDown","onKeyDownCapture","onChange","onKeyUp","onKeyUpCapture","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onWheel"];function ownKeys(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function _objectSpread(a){for(var b,c=1;c<arguments.length;c++)b=null==arguments[c]?{}:arguments[c],c%2?ownKeys(Object(b),!0).forEach(function(c){_defineProperty(a,c,b[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(b)):ownKeys(Object(b)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(b,c))});return a}import React,{forwardRef,useCallback,useEffect,useRef,useState}from"react";import{useComponentSize}from"../../../hooks/useComponentSize";import{useForkRef}from"../../../hooks/useForkRef";import{useMutableRef}from"../../../hooks/useMutableRef";import{cnFieldArrayValueInlineControl}from"./cnFieldArrayValueInlineControl";var gapMap={l:"calc(var(--space-3xs) + var(--space-2xs))",m:"var(--space-2xs)",s:"var(--space-3xs)",xs:"var(--space-3xs)"},verticalPaddingMap={l:"var(--space-xs)",m:"calc(var(--space-xs) - var(--space-3xs))",s:"var(--space-2xs)",xs:"var(--space-3xs)"},inputHeightMap={l:"var(--space-2xl)",m:"calc(var(--space-2xl) - var(--space-2xs))",s:"var(--space-xl)",xs:"var(--space-l)"},FieldArrayValueInlineControlRender=function(a,b){var c,d,e=a.className,f=a.inputRef,g=a.inputMaxLength,h=a.value,i=void 0===h?[]:h,j=a.inputDefaultValue,k=a.renderValue,l=a.onFocus,m=a.onBlur,n=a.autoFocus,o=a.inputTabIndex,p=a.inputAriaLabel,q=a.disabled,r=a.style,s=a.size,t=void 0===s?"m":s,u=a.placeholder,v=a.onKeyDown,w=a.onKeyDownCapture,x=a.onChange,y=a.onKeyUp,z=a.onKeyUpCapture,A=a.onCopy,B=a.onCopyCapture,C=a.onCut,D=a.onCutCapture,E=a.onPaste,F=a.onPasteCapture,G=a.onWheel,H=_objectWithoutProperties(a,_excluded),I=useState(""),J=_slicedToArray(I,2),K=J[0],L=J[1],M=useMutableRef(x),N=useRef(null),O=useRef(null),P=useCallback(function(a){var b;L(a.target.value),null===(b=M.current)||void 0===b?void 0:b.call(M,a)},[]),Q=useComponentSize(N),R=Q.width;return useEffect(function(){var a;L((null===(a=O.current)||void 0===a?void 0:a.value)||"")},[null===(c=O.current)||void 0===c?void 0:c.value]),React.createElement("div",Object.assign({},H,{className:cnFieldArrayValueInlineControl(null,[e]),ref:b,style:_objectSpread(_objectSpread({},r),{},(d={},_defineProperty(d,"--field-array-value-inline-control-items-gap",gapMap[t]),_defineProperty(d,"--field-array-value-inline-control-input-min-width","".concat(R,"px")),_defineProperty(d,"--field-array-value-inline-control-vertical-padding","".concat(verticalPaddingMap[t])),_defineProperty(d,"--field-array-value-inline-control-input-height","".concat(inputHeightMap[t])),d))}),i.map(k),React.createElement("input",{className:cnFieldArrayValueInlineControl("Input"),onChange:P,ref:useForkRef([O,f]),maxLength:g,onFocus:l,onBlur:m,autoFocus:n,tabIndex:o,"aria-label":p,onKeyDown:v,onKeyDownCapture:w,onKeyUp:y,onKeyUpCapture:z,disabled:q,type:"text",placeholder:i.length?void 0:u,onCopy:A,onCopyCapture:B,onCut:C,onCutCapture:D,onPaste:E,onPasteCapture:F,onWheel:G,defaultValue:j}),React.createElement("div",{ref:N,className:cnFieldArrayValueInlineControl("HelperInputFakeElement")},K))};export var FieldArrayValueInlineControl=forwardRef(FieldArrayValueInlineControlRender);
//# sourceMappingURL=FieldArrayValueInlineControl.js.map