{"version":3,"file":"DatePickerTypeTime.js","names":["React","forwardRef","useEffect","useRef","useClickOutside","useForkRef","setRef","DatePickerDropdown","DatePickerFieldTypeTime","datePickerPropFormatTypeDateTime","getDropdownZIndex","getMultiplicityTime","datePickerPropDateTimeViewDefault","useCalendarVisible","DatePickerTypeTime","props","ref","events","dateTimeView","locale","dropdownForm","dropdownClassName","dropdownRef","multiplicityHoursProp","multiplicityHours","multiplicityMinutesProp","multiplicityMinutes","multiplicitySecondsProp","multiplicitySeconds","renderAdditionalControls","currentVisibleDate","onChangeCurrentVisibleDate","onDropdownOpen","dropdownOpen","ignoreOutsideClicksRefs","disabled","inputRefProp","inputRef","disableDates","otherProps","format","fieldRef","calendarRef","startRef","calendarVisible","setCalendarVisible","current","isActive","ignoreClicksInsideRefs","handler","off","on","value","minDate","maxDate","onChange","style"],"sources":["../../../../../../src/components/DatePicker/DatePickerTypeTime/DatePickerTypeTime.tsx"],"sourcesContent":["import React, { forwardRef, useEffect, useRef } from 'react';\n\nimport { useClickOutside } from '##/hooks/useClickOutside/useClickOutside';\nimport { useForkRef } from '##/hooks/useForkRef';\nimport { setRef } from '##/utils/setRef';\n\nimport { DatePickerDropdown } from '../DatePickerDropdown/DatePickerDropdown';\nimport { DatePickerFieldTypeTime } from '../DatePickerFieldTypeTime/DatePickerFieldTypeTime';\nimport {\n  datePickerPropFormatTypeDateTime,\n  getDropdownZIndex,\n  getMultiplicityTime,\n} from '../helpers';\nimport {\n  datePickerPropDateTimeViewDefault,\n  DatePickerTypeComponent,\n} from '../types';\nimport { useCalendarVisible } from '../useCalendarVisible';\n\nexport const DatePickerTypeTime: DatePickerTypeComponent<'time'> = forwardRef(\n  (props, ref) => {\n    const {\n      events,\n      dateTimeView = datePickerPropDateTimeViewDefault,\n      locale,\n      dropdownForm,\n      dropdownClassName,\n      dropdownRef,\n      multiplicityHours: multiplicityHoursProp,\n      multiplicityMinutes: multiplicityMinutesProp,\n      multiplicitySeconds: multiplicitySecondsProp,\n      renderAdditionalControls,\n      currentVisibleDate,\n      onChangeCurrentVisibleDate,\n      onDropdownOpen,\n      dropdownOpen,\n      ignoreOutsideClicksRefs,\n      disabled,\n      inputRef: inputRefProp,\n      disableDates,\n      ...otherProps\n    } = props;\n\n    const [multiplicityHours, multiplicityMinutes, multiplicitySeconds] =\n      getMultiplicityTime(\n        otherProps.format || datePickerPropFormatTypeDateTime,\n        multiplicityHoursProp,\n        multiplicityMinutesProp,\n        multiplicitySecondsProp,\n      );\n\n    const fieldRef = useRef<HTMLDivElement>(null);\n    const calendarRef = useRef<HTMLDivElement>(null);\n    const inputRef = useRef<HTMLInputElement>(null);\n\n    const [calendarVisible, setCalendarVisible] = useCalendarVisible({\n      dropdownOpen,\n      onDropdownOpen,\n      disabled,\n      startRef: inputRef,\n    });\n\n    useEffect(() => {\n      if (ref) {\n        setRef(ref, fieldRef.current);\n      }\n    }, [ref, fieldRef]);\n\n    useClickOutside({\n      isActive: calendarVisible,\n      ignoreClicksInsideRefs: [\n        fieldRef,\n        calendarRef,\n        ...(ignoreOutsideClicksRefs ?? []),\n      ],\n      handler: setCalendarVisible.off,\n    });\n\n    return (\n      <>\n        <DatePickerFieldTypeTime\n          {...otherProps}\n          ref={fieldRef}\n          inputRef={useForkRef([inputRef, inputRefProp])}\n          onClick={setCalendarVisible.on}\n          multiplicityHours={multiplicityHours}\n          multiplicitySeconds={multiplicitySeconds}\n          multiplicityMinutes={multiplicityMinutes}\n          disabled={disabled}\n        />\n        <DatePickerDropdown\n          ref={useForkRef([dropdownRef, calendarRef])}\n          anchorRef={fieldRef}\n          isOpen={calendarVisible}\n          value={props.value || undefined}\n          type=\"time\"\n          view={dateTimeView}\n          events={events}\n          locale={locale}\n          minDate={props.minDate}\n          maxDate={props.maxDate}\n          form={dropdownForm}\n          className={dropdownClassName}\n          onChange={props.onChange}\n          renderAdditionalControls={renderAdditionalControls}\n          multiplicityHours={multiplicityHours}\n          multiplicitySeconds={multiplicitySeconds}\n          multiplicityMinutes={multiplicityMinutes}\n          zIndex={getDropdownZIndex(props.style)}\n          disableDates={disableDates}\n        />\n      </>\n    );\n  },\n);\n"],"mappings":"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"}