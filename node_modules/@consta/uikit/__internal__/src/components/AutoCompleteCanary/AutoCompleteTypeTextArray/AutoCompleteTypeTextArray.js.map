{"version":3,"file":"AutoCompleteTypeTextArray.js","names":["React","forwardRef","useRef","SelectDropdown","defaultPropForm","defaultPropSize","defaultPropView","TextFieldTypeTextArray","useForkRef","withDefaultGetters","useAutoComplete","useRenderItemDefault","AutoCompleteTypeTextArray","props","componentRef","withDefaultGettersProps","items","groups","disabled","getItemLabel","getItemKey","isLoading","getItemGroupKey","getGroupKey","getGroupLabel","inputRef","onFocus","dropdownRefProp","dropdownRef","dropdownClassName","dropdownForm","value","form","view","size","onChange","style","renderItem","searchFunction","id","name","className","virtualScroll","onScrollToBottom","onDropdownOpen","dropdownOpen","ignoreOutsideClicksRefs","onInputChange","inputValue","otherProps","controlRef","searchValue","getOptionProps","isOpen","getKeyProps","visibleItems","handleInputFocus","inputControlRef","optionsRefs","handleChange","highlightedIndex","renderItemDefault","length","zIndex"],"sources":["../../../../../../src/components/AutoCompleteCanary/AutoCompleteTypeTextArray/AutoCompleteTypeTextArray.tsx"],"sourcesContent":["import React, { forwardRef, useRef } from 'react';\n\nimport { SelectDropdown } from '##/components/SelectComponents/SelectDropdown';\nimport {\n  defaultPropForm,\n  defaultPropSize,\n  defaultPropView,\n} from '##/components/SelectComponentsDeprecated/types';\nimport { TextFieldTypeTextArray } from '##/components/TextFieldCanary';\nimport { useForkRef } from '##/hooks/useForkRef';\n\nimport { withDefaultGetters } from '../helpers';\nimport { AutoCompleteTypeComponent } from '../types';\nimport { useAutoComplete } from '../useAutoComplete';\nimport { useRenderItemDefault } from '../useRenderItemDefault';\n\nexport const AutoCompleteTypeTextArray: AutoCompleteTypeComponent<'textarray'> =\n  forwardRef((props, componentRef) => {\n    const withDefaultGettersProps = withDefaultGetters(props);\n    const {\n      items = [],\n      groups = [],\n      disabled = false,\n      getItemLabel,\n      getItemKey,\n      isLoading,\n      getItemGroupKey,\n      getGroupKey,\n      getGroupLabel,\n      inputRef,\n      onFocus,\n      dropdownRef: dropdownRefProp,\n      dropdownClassName,\n      dropdownForm = 'default',\n      value,\n      form = defaultPropForm,\n      view = defaultPropView,\n      size = defaultPropSize,\n      onChange,\n      style,\n      renderItem,\n      searchFunction,\n      id,\n      name,\n      className,\n      virtualScroll,\n      onScrollToBottom,\n      onDropdownOpen,\n      dropdownOpen,\n      ignoreOutsideClicksRefs,\n      onInputChange,\n      inputValue,\n      ...otherProps\n    } = withDefaultGettersProps;\n\n    const dropdownRef = useRef<HTMLDivElement | null>(null);\n    const controlRef = useRef<HTMLDivElement>(null);\n\n    const {\n      getOptionProps,\n      isOpen,\n      getKeyProps,\n      visibleItems,\n      handleInputFocus,\n      inputRef: inputControlRef,\n      optionsRefs,\n      handleChange,\n      highlightedIndex,\n    } = useAutoComplete({\n      items,\n      groups,\n      onChange: onInputChange,\n      dropdownRef,\n      disabled,\n      searchValue: inputValue || '',\n      getItemLabel,\n      getItemKey,\n      getItemGroupKey,\n      getGroupKey,\n      onFocus,\n      searchFunction,\n      isLoading,\n      onDropdownOpen,\n      dropdownOpen,\n      ignoreOutsideClicksRefs: [controlRef, ...(ignoreOutsideClicksRefs || [])],\n    });\n\n    const renderItemDefault = useRenderItemDefault(\n      getItemLabel,\n      disabled,\n      size,\n      dropdownForm,\n    );\n\n    return (\n      <>\n        <TextFieldTypeTextArray\n          {...getKeyProps()}\n          form={form}\n          view={view}\n          id={id}\n          className={className}\n          name={name}\n          disabled={disabled}\n          ref={useForkRef([controlRef, componentRef])}\n          inputRef={useForkRef([inputRef, inputControlRef])}\n          onFocus={handleInputFocus}\n          onChange={highlightedIndex < 0 ? onChange : undefined}\n          onInputChange={handleChange}\n          value={value}\n          style={style}\n          size={size}\n          {...otherProps}\n        />\n        <SelectDropdown\n          isOpen={isOpen}\n          size={size}\n          controlRef={controlRef}\n          getOptionProps={getOptionProps}\n          dropdownRef={useForkRef([dropdownRef, dropdownRefProp])}\n          form={dropdownForm}\n          className={dropdownClassName}\n          renderItem={renderItem || renderItemDefault}\n          getGroupLabel={getGroupLabel}\n          visibleItems={visibleItems}\n          isLoading={isLoading}\n          hasItems={items.length !== 0}\n          itemsRefs={optionsRefs}\n          virtualScroll\n          style={\n            typeof style?.zIndex === 'number'\n              ? { zIndex: style.zIndex + 1 }\n              : undefined\n          }\n          onScrollToBottom={onScrollToBottom}\n        />\n      </>\n    );\n  });\n"],"mappings":"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"}