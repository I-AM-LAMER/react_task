{"version":3,"file":"AutoCompleteTypeText.js","names":["React","forwardRef","useRef","SelectDropdown","defaultPropForm","defaultPropSize","defaultPropView","TextFieldTypeText","useForkRef","withDefaultGetters","useAutoComplete","useRenderItemDefault","AutoCompleteTypeText","props","componentRef","items","groups","disabled","getItemLabel","getItemKey","isLoading","getItemGroupKey","getGroupKey","getGroupLabel","inputRef","onFocus","dropdownRefProp","dropdownRef","dropdownClassName","dropdownForm","value","form","view","size","onChange","style","renderItem","searchFunction","id","name","className","virtualScroll","onScrollToBottom","onDropdownOpen","dropdownOpen","ignoreOutsideClicksRefs","otherProps","controlRef","searchValue","getOptionProps","isOpen","getKeyProps","visibleItems","handleInputFocus","inputControlRef","optionsRefs","handleChange","renderItemDefault","length","zIndex"],"sources":["../../../../../../src/components/AutoCompleteCanary/AutoCompleteTypeText/AutoCompleteTypeText.tsx"],"sourcesContent":["import React, { forwardRef, useRef } from 'react';\n\nimport { SelectDropdown } from '##/components/SelectComponents/SelectDropdown';\nimport {\n  defaultPropForm,\n  defaultPropSize,\n  defaultPropView,\n} from '##/components/SelectComponentsDeprecated/types';\nimport { TextFieldTypeText } from '##/components/TextFieldCanary';\nimport { useForkRef } from '##/hooks/useForkRef';\n\nimport { withDefaultGetters } from '../helpers';\nimport { AutoCompleteTypeComponent } from '../types';\nimport { useAutoComplete } from '../useAutoComplete';\nimport { useRenderItemDefault } from '../useRenderItemDefault';\n\nexport const AutoCompleteTypeText: AutoCompleteTypeComponent<string> =\n  forwardRef((props, componentRef) => {\n    const {\n      items = [],\n      groups = [],\n      disabled = false,\n      getItemLabel,\n      getItemKey,\n      isLoading,\n      getItemGroupKey,\n      getGroupKey,\n      getGroupLabel,\n      inputRef,\n      onFocus,\n      dropdownRef: dropdownRefProp,\n      dropdownClassName,\n      dropdownForm = 'default',\n      value,\n      form = defaultPropForm,\n      view = defaultPropView,\n      size = defaultPropSize,\n      onChange,\n      style,\n      renderItem,\n      searchFunction,\n      id,\n      name,\n      className,\n      virtualScroll,\n      onScrollToBottom,\n      onDropdownOpen,\n      dropdownOpen,\n      ignoreOutsideClicksRefs,\n      ...otherProps\n    } = withDefaultGetters(props);\n\n    const dropdownRef = useRef<HTMLDivElement | null>(null);\n    const controlRef = useRef<HTMLDivElement>(null);\n\n    const {\n      getOptionProps,\n      isOpen,\n      getKeyProps,\n      visibleItems,\n      handleInputFocus,\n      inputRef: inputControlRef,\n      optionsRefs,\n      handleChange,\n    } = useAutoComplete({\n      items,\n      groups,\n      onChange,\n      dropdownRef,\n      disabled,\n      searchValue: value || '',\n      getItemLabel,\n      getItemKey,\n      getItemGroupKey,\n      getGroupKey,\n      onFocus,\n      searchFunction,\n      isLoading,\n      onDropdownOpen,\n      dropdownOpen,\n      ignoreOutsideClicksRefs: [controlRef, ...(ignoreOutsideClicksRefs || [])],\n    });\n\n    const renderItemDefault = useRenderItemDefault(\n      getItemLabel,\n      disabled,\n      size,\n      dropdownForm,\n    );\n\n    return (\n      <>\n        <TextFieldTypeText\n          {...getKeyProps()}\n          form={form}\n          view={view}\n          id={id}\n          className={className}\n          name={name}\n          disabled={disabled}\n          ref={useForkRef([controlRef, componentRef])}\n          inputRef={useForkRef([inputRef, inputControlRef])}\n          onChange={handleChange}\n          onFocus={handleInputFocus}\n          value={value}\n          style={style}\n          size={size}\n          {...otherProps}\n        />\n        <SelectDropdown\n          isOpen={isOpen}\n          size={size}\n          controlRef={controlRef}\n          getOptionProps={getOptionProps}\n          dropdownRef={useForkRef([dropdownRef, dropdownRefProp])}\n          form={dropdownForm}\n          className={dropdownClassName}\n          renderItem={renderItem || renderItemDefault}\n          getGroupLabel={getGroupLabel}\n          visibleItems={visibleItems}\n          isLoading={isLoading}\n          hasItems={items.length !== 0}\n          itemsRefs={optionsRefs}\n          virtualScroll\n          style={\n            typeof style?.zIndex === 'number'\n              ? { zIndex: style.zIndex + 1 }\n              : undefined\n          }\n          onScrollToBottom={onScrollToBottom}\n        />\n      </>\n    );\n  });\n"],"mappings":"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"}