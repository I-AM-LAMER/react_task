{"ast":null,"code":"import{useEffect,useState}from\"react\";import{useParams}from\"react-router-dom\";import{Card}from'@consta/uikit/Card';import{Text}from'@consta/uikit/Text';import{Button}from'@consta/uikit/Button';import{useNavigate}from'react-router-dom';import'./ProfilePage.css';import{jsxs as _jsxs,jsx as _jsx}from\"react/jsx-runtime\";const ProfilePage=()=>{const{id}=useParams();const navigate=useNavigate();const goToHomePage=()=>{navigate('/');};const goToprofilePage=()=>{navigate('/profiles');};const goToLoginPage=()=>{navigate('/login');};const[profile,setProfile]=useState(null);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);useEffect(()=>{const fetchprofile=async()=>{setLoading(true);setError(null);try{const response=await fetch('https://dummyjson.com/auth/me',{method:'GET',headers:{'Authorization':`Bearer ${localStorage.getItem('accessToken')}`// Pass JWT via Authorization header\n}});if(!response.ok){throw new Error('Failed to fetch data');}const profile=await response.json();setProfile(profile);}catch(err){setError(err.message);}finally{setLoading(false);}};fetchprofile();},[id]);if(error){return/*#__PURE__*/_jsxs(Text,{view:\"alert\",size:\"xl\",weight:\"bold\",color:\"alert\",children:[\"\\u041E\\u0448\\u0438\\u0431\\u043A\\u0430 \\u0437\\u0430\\u0433\\u0440\\u0443\\u0437\\u043A\\u0438: \",error]});}return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"header\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"header-left\",children:[/*#__PURE__*/_jsx(Button,{label:\"\\u0413\\u043B\\u0430\\u0432\\u043D\\u0430\\u044F\",onClick:goToHomePage,size:\"s\",className:\"header-button\"}),/*#__PURE__*/_jsx(Button,{label:\"\\u0421\\u0435\\u0440\\u0432\\u0438\\u0441\\u044B\",onClick:goToprofilePage,size:\"s\",className:\"header-button\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"header-right\",children:[/*#__PURE__*/_jsx(Text,{children:\"\\u0424\\u0418\\u041E\"}),/*#__PURE__*/_jsx(Button,{label:\"\\u0412\\u043E\\u0439\\u0442\\u0438\",onClick:goToLoginPage,size:\"s\",className:\"header-button\"})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"profile-detail-container\",children:/*#__PURE__*/_jsx(\"div\",{className:\"profile-detail-card\",children:/*#__PURE__*/_jsx(Card,{className:\"card-style\",children:profile?/*#__PURE__*/_jsxs(\"div\",{children:[profile.image&&/*#__PURE__*/_jsx(\"img\",{src:profile.image,alt:profile.username,className:\"profile-image\"}),/*#__PURE__*/_jsxs(Text,{size:\"l\",weight:\"bold\",className:\"profile-name\",children:[profile.firstName,' ',profile.lastName]}),/*#__PURE__*/_jsx(Button,{label:\"\\u041D\\u0430\\u0437\\u0430\\u0434\",onClick:()=>window.history.back(),className:\"back-button\"})]}):/*#__PURE__*/_jsx(Text,{size:\"xl\",color:\"alert\",weight:\"bold\",className:\"no-data-message\",children:\"\\u0414\\u0430\\u043D\\u043D\\u044B\\u0435 \\u043D\\u0435 \\u043D\\u0430\\u0439\\u0434\\u0435\\u043D\\u044B\"})})})})]});};export default ProfilePage;","map":{"version":3,"names":["useEffect","useState","useParams","Card","Text","Button","useNavigate","jsxs","_jsxs","jsx","_jsx","ProfilePage","id","navigate","goToHomePage","goToprofilePage","goToLoginPage","profile","setProfile","loading","setLoading","error","setError","fetchprofile","response","fetch","method","headers","localStorage","getItem","ok","Error","json","err","message","view","size","weight","color","children","className","label","onClick","image","src","alt","username","firstName","lastName","window","history","back"],"sources":["/home/vadim/Desktop/company-employee-personal-account/src/pages/profile-page/ProfilePage.jsx"],"sourcesContent":["import { useEffect, useState } from \"react\";\n\nimport { useParams } from \"react-router-dom\";\n\nimport { Card } from '@consta/uikit/Card';\nimport { Text } from '@consta/uikit/Text';\nimport { Button } from '@consta/uikit/Button';\n\nimport { useNavigate } from 'react-router-dom';\n\nimport './ProfilePage.css';\n\nconst ProfilePage = () => {\n    const { id } = useParams();\n    const navigate = useNavigate();\n\n    const goToHomePage = () => {\n        navigate('/');\n    };\n\n    const goToprofilePage = () => {\n        navigate('/profiles');\n    };\n\n    const goToLoginPage = () => {\n        navigate('/login');\n    };\n\n    const [profile, setProfile] = useState(null);\n    const [loading, setLoading] = useState(true);\n    const [error, setError] = useState(null);\n\n    useEffect(() => {\n        const fetchprofile = async () => {\n            setLoading(true);\n            setError(null);\n\n            try {\n                const response = await fetch('https://dummyjson.com/auth/me', {\n                  method: 'GET',\n                  headers: {\n                    'Authorization': `Bearer ${localStorage.getItem('accessToken')}`, // Pass JWT via Authorization header\n                  }, \n                });\n                \n                if (!response.ok) {\n                    throw new Error('Failed to fetch data');\n                }\n                const profile = await response.json();\n                setProfile(profile);\n            } catch (err) {\n                setError(err.message);\n            } finally {\n                setLoading(false);\n            }\n        };\n\n        fetchprofile();\n\n    }, [id]);\n\n    if (error) {\n        return (\n            <Text view=\"alert\" size=\"xl\" weight=\"bold\" color=\"alert\">\n                Ошибка загрузки: {error}\n            </Text>\n        );\n    }\n\n    return (\n        <div>\n            <div>\n                <div className=\"header\">\n                    <div className=\"header-left\">\n                        <Button label=\"Главная\" onClick={goToHomePage} size=\"s\" className=\"header-button\" />\n                        <Button label=\"Сервисы\" onClick={goToprofilePage} size=\"s\" className=\"header-button\" />\n                    </div>\n                    <div className=\"header-right\">\n                        <Text>ФИО</Text>\n                        <Button label=\"Войти\" onClick={goToLoginPage} size=\"s\" className=\"header-button\" />\n                    </div>\n                </div>\n            </div>\n            <div className=\"profile-detail-container\">\n                <div className=\"profile-detail-card\">\n                    <Card className=\"card-style\">\n                        {profile ? (\n                            <div>\n                                {profile.image && (\n                                    <img\n                                        src={profile.image}\n                                        alt={profile.username}\n                                        className=\"profile-image\"\n                                    />\n                                )}\n                                <Text size=\"l\" weight=\"bold\" className=\"profile-name\">\n                                    {profile.firstName}\n                                    {' '}\n                                    {profile.lastName}\n                                </Text>\n                                <Button label=\"Назад\" onClick={() => window.history.back()} className=\"back-button\" />\n                            </div>\n                        ) : (\n                            <Text size=\"xl\" color=\"alert\" weight=\"bold\" className=\"no-data-message\">\n                                Данные не найдены\n                            </Text>\n                        )}\n                    </Card>\n                </div>\n            </div>\n        </div>\n    );\n};\n\nexport default ProfilePage;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}