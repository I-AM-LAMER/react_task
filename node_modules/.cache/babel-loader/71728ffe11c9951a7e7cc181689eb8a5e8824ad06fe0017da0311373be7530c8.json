{"ast":null,"code":"var _jsxFileName = \"/home/vadim/Desktop/react_task/src/layouts/Main.jsx\",\n  _s = $RefreshSig$();\nimport { Outlet } from \"react-router-dom\";\nimport { useEffect, useState } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { login, logout } from \"../components/app/slices/authSlice\";\nimport { set_user } from \"../components/app/slices/userSlice\";\nimport checkToken from \"../components/app/helper/checkToken\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst MainLayout = () => {\n  _s();\n  const [isLoading, setIsLoading] = useState(true);\n  const dispatch = useDispatch();\n  useEffect(() => {\n    checkToken().then(data => {\n      if (data) {\n        dispatch(login());\n        dispatch(set_user(localStorage.getItem('firstName')));\n      } else {\n        dispatch(logout());\n        dispatch(remove_user());\n      }\n      setIsLoading(false);\n    });\n  }, []);\n  return isLoading ? /*#__PURE__*/_jsxDEV(\"div\", {\n    children: \"\\u0417\\u0430\\u0433\\u0440\\u0443\\u0437\\u043A\\u0430...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 25,\n    columnNumber: 9\n  }, this) : /*#__PURE__*/_jsxDEV(\"main\", {\n    children: /*#__PURE__*/_jsxDEV(Outlet, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 11\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 27,\n    columnNumber: 9\n  }, this);\n};\n_s(MainLayout, \"pmhfQ5CNTLUtc6eMqG3oMPu07jI=\", false, function () {\n  return [useDispatch];\n});\n_c = MainLayout;\nexport default MainLayout;\nvar _c;\n$RefreshReg$(_c, \"MainLayout\");","map":{"version":3,"names":["Outlet","useEffect","useState","useDispatch","login","logout","set_user","checkToken","jsxDEV","_jsxDEV","MainLayout","_s","isLoading","setIsLoading","dispatch","then","data","localStorage","getItem","remove_user","children","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/home/vadim/Desktop/react_task/src/layouts/Main.jsx"],"sourcesContent":["import { Outlet } from \"react-router-dom\";\nimport { useEffect, useState } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { login, logout } from \"../components/app/slices/authSlice\"\nimport { set_user } from \"../components/app/slices/userSlice\";\nimport checkToken from \"../components/app/helper/checkToken\";\n\n\nconst MainLayout = () => {\n    const [isLoading, setIsLoading] = useState(true);\n    const dispatch = useDispatch();\n    useEffect(() => {\n      checkToken().then((data) => {\n        if (data) {\n          dispatch(login());\n          dispatch(set_user(localStorage.getItem('firstName')));\n        } else {\n          dispatch(logout());\n          dispatch(remove_user());\n        }\n        setIsLoading(false);\n      });\n    }, []);\n    return isLoading ? (\n        <div>Загрузка...</div>\n      ) : (\n        <main>\n          <Outlet />\n        </main>\n      );\n};\n\nexport default MainLayout"],"mappings":";;AAAA,SAASA,MAAM,QAAQ,kBAAkB;AACzC,SAASC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAC3C,SAASC,WAAW,QAAQ,aAAa;AACzC,SAASC,KAAK,EAAEC,MAAM,QAAQ,oCAAoC;AAClE,SAASC,QAAQ,QAAQ,oCAAoC;AAC7D,OAAOC,UAAU,MAAM,qCAAqC;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAG7D,MAAMC,UAAU,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACrB,MAAM,CAACC,SAAS,EAAEC,YAAY,CAAC,GAAGX,QAAQ,CAAC,IAAI,CAAC;EAChD,MAAMY,QAAQ,GAAGX,WAAW,CAAC,CAAC;EAC9BF,SAAS,CAAC,MAAM;IACdM,UAAU,CAAC,CAAC,CAACQ,IAAI,CAAEC,IAAI,IAAK;MAC1B,IAAIA,IAAI,EAAE;QACRF,QAAQ,CAACV,KAAK,CAAC,CAAC,CAAC;QACjBU,QAAQ,CAACR,QAAQ,CAACW,YAAY,CAACC,OAAO,CAAC,WAAW,CAAC,CAAC,CAAC;MACvD,CAAC,MAAM;QACLJ,QAAQ,CAACT,MAAM,CAAC,CAAC,CAAC;QAClBS,QAAQ,CAACK,WAAW,CAAC,CAAC,CAAC;MACzB;MACAN,YAAY,CAAC,KAAK,CAAC;IACrB,CAAC,CAAC;EACJ,CAAC,EAAE,EAAE,CAAC;EACN,OAAOD,SAAS,gBACZH,OAAA;IAAAW,QAAA,EAAK;EAAW;IAAAC,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAK,CAAC,gBAEtBf,OAAA;IAAAW,QAAA,eACEX,OAAA,CAACT,MAAM;MAAAqB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACN,CACP;AACP,CAAC;AAACb,EAAA,CAtBID,UAAU;EAAA,QAEKP,WAAW;AAAA;AAAAsB,EAAA,GAF1Bf,UAAU;AAwBhB,eAAeA,UAAU;AAAA,IAAAe,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}